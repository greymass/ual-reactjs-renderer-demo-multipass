{"version":3,"sources":["../../src/link-session.ts","../../src/link.ts","../../src/link-options.ts","assets/jungle.png","../../ual-anchor/dist/interfaces.js","../../ual-anchor/dist/AnchorUser.js","../../ual-anchor/dist/UALAnchorError.js","../../ual-anchor/dist/index.js","../../src/link-abi-data.ts","../../src/errors.ts","assets/eos.png","assets/fio.svg","assets/proton.png","assets/telos.png","assets/wax.png","../../ual-anchor/dist/Anchor.js","../../src/index.ts","../../ual-anchor/dist/AnchorLogo.js","../../src/utils.ts","Accounts.js","Blockchains.js","Response.js","Main.js","App.js","serviceWorker.js","index.js","../../src/fuel.ts","../../src/styles.ts"],"names":["this","link","transport","request","key","sessionKey","identifier","module","exports","Object","defineProperty","value","Name","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","universal_authenticator_library_1","require","UALAnchorError_1","AnchorUser","rpc","session","accountName","requestPermission","chainId","auth","actor","permission","transaction","options","console","log","expiration","transact","completedTransaction","returnEosjsTransaction","broadcast","message","type","UALErrorType","Signing","cause","UALAnchorError","publicKey","data","_","Unsupported","challenge","signatureProvider","getAvailableKeys","keys","DataRequest","get_account","account","actualKeys","extractAccountKeys","getKeys","authorizationKeys","filter","indexOf","length","constructor","name","Validation","keySubsets","permissions","map","required_auth","keySubset","concat","User","interfaces_1","UALError","__export","m","p","hasOwnProperty","version","types","structs","base","fields","actions","ricardian_clauses","error_messages","tables","abi_extensions","reason","__importDefault","mod","__esModule","anchor_link_1","eosjs_1","AnchorUser_1","AnchorLogo_1","anchor_link_browser_transport_1","Anchor","chains","users","service","disableGreymassFuel","requestStatus","chain","rpcEndpoints","appName","Initialization","JsonRpc","protocol","host","port","default","restoreSession","icon","AnchorLogo","text","textColor","background","isLoading","login","identity","Login","user","removeSession","reset","Authenticator","Debug","props","activeUser","Table","Header","Row","HeaderCell","collapsing","Body","s","isCurrent","scatter","active","accounts","current","authority","join","values","Cell","Button","color","content","disabled","onClick","setSession","textAlign","colSpan","Footer","fullWidth","basic","fluid","addAccount","primary","Component","logoMap","eosLogo","fioLogo","jungleLogo","protonLogo","telosLogo","waxLogo","blockchains","image","avatar","src","Blockchains","Dropdown","onChange","placeholder","search","selection","transactionAbi","transactionTypes","Serialize","getTypesFromAbi","createInitialTypes","Transaction","testResponse","response","desc","test","r","wasBroadcast","signatures","JSON","stringify","serializedTransaction","tx","deserialize","ref_block_num","ref_block_prefix","testCase","res","val","serialized","buffer","SerialBuffer","array","get","tests","Fragment","Segment","style","overflowX","List","divided","relaxed","Item","Icon","size","verticalAlign","Content","Description","margin","dividing","borderBottom","language","showLineNumbers","theme","monokai","wrapLines","displayDataTypes","displayObjectSize","enableClipboard","iconStyle","payload","marginTop","overflow","signer","App","ual","showModal","signTransaction","a","setState","undefined","transacting","authorization","producers","proxy","voter","sign","logout","state","sessions","Container","paddingTop","attached","block","Subheader","href","padded","setChainId","Accounts","loading","Response","withUAL","getAuthenticators","c","Ledger","Scatter","searchParams","URLSearchParams","window","location","set","history","pushState","toString","find","authenticators","Main","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.549c4503.chunk.js","sourcesContent":["import { SessionError } from './errors';\nimport { abiEncode, fetch, sealMessage } from './utils';\n/**\n * Type describing a link session that can create a eosjs compatible\n * signature provider and transact for a specific auth.\n */\nexport class LinkSession {\n    /**\n     * Convenience, remove this session from associated [[Link]] storage if set.\n     * Equivalent to:\n     * ```ts\n     * session.link.removeSession(session.identifier, session.auth)\n     * ```\n     */\n    async remove() {\n        if (this.link.storage) {\n            await this.link.removeSession(this.identifier, this.auth);\n        }\n    }\n    /** Restore a previously serialized session. */\n    static restore(link, data) {\n        switch (data.type) {\n            case 'channel':\n                return new LinkChannelSession(link, data.data, data.metadata);\n            case 'fallback':\n                return new LinkFallbackSession(link, data.data, data.metadata);\n            default:\n                throw new Error('Unable to restore, session data invalid');\n        }\n    }\n}\n/**\n * Link session that pushes requests over a channel.\n * @internal\n */\nexport class LinkChannelSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'channel';\n        this.timeout = 2 * 60 * 1000; // ms\n        this.link = link;\n        this.auth = data.auth;\n        this.publicKey = data.publicKey;\n        this.channel = data.channel;\n        this.identifier = data.identifier;\n        this.encrypt = (request) => {\n            return sealMessage(request.encode(true, false), data.requestKey, data.channel.key);\n        };\n        this.metadata = {\n            ...(metadata || {}),\n            timeout: this.timeout,\n            name: this.channel.name,\n        };\n        this.serialize = () => ({\n            type: 'channel',\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        const info = {\n            expiration: new Date(Date.now() + this.timeout).toISOString().slice(0, -1),\n        };\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        setTimeout(() => {\n            cancel(new SessionError('Wallet did not respond in time', 'E_TIMEOUT'));\n        }, this.timeout + 500);\n        request.data.info.push({\n            key: 'link',\n            value: abiEncode(info, 'link_info'),\n        });\n        fetch(this.channel.url, {\n            method: 'POST',\n            headers: {\n                'X-Buoy-Wait': (this.timeout / 1000).toFixed(0),\n            },\n            body: this.encrypt(request),\n        })\n            .then((response) => {\n            if (response.status !== 200) {\n                cancel(new SessionError('Unable to push message', 'E_DELIVERY'));\n            }\n            else {\n                // request delivered\n            }\n        })\n            .catch((error) => {\n            cancel(new SessionError(`Unable to reach link service (${error.message || String(error)})`, 'E_DELIVERY'));\n        });\n    }\n    prepare(request) {\n        if (this.link.transport.prepare) {\n            return this.link.transport.prepare(request, this);\n        }\n        return Promise.resolve(request);\n    }\n    showLoading() {\n        if (this.link.transport.showLoading) {\n            return this.link.transport.showLoading();\n        }\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey], this);\n    }\n    makeAuthorityProvider() {\n        return this.link.makeAuthorityProvider();\n    }\n    transact(args, options) {\n        return this.link.transact(args, options, this);\n    }\n}\n/**\n * Link session that sends every request over the transport.\n * @internal\n */\nexport class LinkFallbackSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'fallback';\n        this.link = link;\n        this.auth = data.auth;\n        this.publicKey = data.publicKey;\n        this.metadata = metadata || {};\n        this.identifier = data.identifier;\n        this.serialize = () => ({\n            type: this.type,\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        else {\n            this.link.transport.onRequest(request, cancel);\n        }\n    }\n    prepare(request) {\n        if (this.link.transport.prepare) {\n            return this.link.transport.prepare(request, this);\n        }\n        return Promise.resolve(request);\n    }\n    showLoading() {\n        if (this.link.transport.showLoading) {\n            return this.link.transport.showLoading();\n        }\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey], this);\n    }\n    makeAuthorityProvider() {\n        return this.link.makeAuthorityProvider();\n    }\n    transact(args, options) {\n        return this.link.transact(args, options, this);\n    }\n}\n//# sourceMappingURL=link-session.js.map","import * as esr from 'eosio-signing-request';\nimport { JsonRpc } from 'eosjs';\nimport * as ecc from 'eosjs-ecc';\nimport WebSocket from 'isomorphic-ws';\nimport zlib from 'pako';\nimport { v4 as uuid } from 'uuid';\nimport { CancelError, IdentityError } from './errors';\nimport { defaults } from './link-options';\nimport { LinkChannelSession, LinkFallbackSession, LinkSession } from './link-session';\nimport { abiEncode, fetch, generatePrivateKey, normalizePublicKey, publicKeyEqual } from './utils';\n/**\n * Main class, also exposed as the default export of the library.\n *\n * Example:\n *\n * ```ts\n * import AnchorLink from 'anchor-link'\n * import ConsoleTransport from 'anchor-link-console-transport'\n *\n * const link = new AnchorLink({\n *     transport: new ConsoleTransport()\n * })\n *\n * const result = await link.transact({actions: myActions})\n * ```\n */\nexport class Link {\n    /** Create a new link instance. */\n    constructor(options) {\n        this.abiCache = new Map();\n        this.pendingAbis = new Map();\n        if (typeof options !== 'object') {\n            throw new TypeError('Missing options object');\n        }\n        if (!options.transport) {\n            throw new TypeError('options.transport is required, see https://github.com/greymass/anchor-link#transports');\n        }\n        if (options.rpc === undefined || typeof options.rpc === 'string') {\n            this.rpc = new JsonRpc(options.rpc || defaults.rpc, { fetch: fetch });\n        }\n        else {\n            this.rpc = options.rpc;\n        }\n        if (options.chainId) {\n            this.chainId =\n                typeof options.chainId === 'number'\n                    ? esr.nameToId(options.chainId)\n                    : options.chainId;\n        }\n        else {\n            this.chainId = defaults.chainId;\n        }\n        this.serviceAddress = (options.service || defaults.service).trim().replace(/\\/$/, '');\n        this.transport = options.transport;\n        if (options.storage !== null) {\n            this.storage = options.storage || this.transport.storage;\n        }\n        this.requestOptions = {\n            abiProvider: this,\n            textDecoder: options.textDecoder || new TextDecoder(),\n            textEncoder: options.textEncoder || new TextEncoder(),\n            zlib,\n        };\n    }\n    /**\n     * Fetch the ABI for given account, cached.\n     * @internal\n     */\n    async getAbi(account) {\n        let rv = this.abiCache.get(account);\n        if (!rv) {\n            let getAbi = this.pendingAbis.get(account);\n            if (!getAbi) {\n                getAbi = this.rpc.get_abi(account);\n                this.pendingAbis.set(account, getAbi);\n            }\n            rv = (await getAbi).abi;\n            this.pendingAbis.delete(account);\n            if (rv) {\n                this.abiCache.set(account, rv);\n            }\n        }\n        return rv;\n    }\n    /**\n     * Create a new unique buoy callback url.\n     * @internal\n     */\n    createCallbackUrl() {\n        return `${this.serviceAddress}/${uuid()}`;\n    }\n    /**\n     * Create a SigningRequest instance configured for this link.\n     * @internal\n     */\n    async createRequest(args, transport) {\n        const t = transport || this.transport;\n        // generate unique callback url\n        let request = await esr.SigningRequest.create({\n            ...args,\n            chainId: this.chainId,\n            broadcast: false,\n            callback: {\n                url: this.createCallbackUrl(),\n                background: true,\n            },\n        }, this.requestOptions);\n        if (t.prepare) {\n            request = await t.prepare(request);\n        }\n        return request;\n    }\n    /**\n     * Send a SigningRequest instance using this link.\n     * @internal\n     */\n    async sendRequest(request, transport, broadcast = false) {\n        const t = transport || this.transport;\n        try {\n            const linkUrl = request.data.callback;\n            console.log(request.data);\n            const encoded = request.encode();\n            console.log(encoded);\n            function sleep(ms) {\n                return new Promise(resolve => setTimeout(resolve, ms));\n            }\n            // await sleep(30000)\n            const test = esr.SigningRequest.from(encoded, this.requestOptions);\n            console.log(test);\n            console.log(test.encode());\n            // const decoded = esr.from(encoded)\n            // console.log(decoded)\n            if (!linkUrl.startsWith(this.serviceAddress)) {\n                throw new Error('Request must have a link callback');\n            }\n            if (request.data.flags !== 2) {\n                throw new Error('Invalid request flags');\n            }\n            // wait for callback or user cancel\n            const ctx = {};\n            const socket = waitForCallback(linkUrl, ctx).then((data) => {\n                if (typeof data.rejected === 'string') {\n                    throw new CancelError(`Rejected by wallet: ${data.rejected}`);\n                }\n                return data;\n            });\n            const cancel = new Promise((resolve, reject) => {\n                t.onRequest(request, (reason) => {\n                    if (ctx.cancel) {\n                        ctx.cancel();\n                    }\n                    if (typeof reason === 'string') {\n                        reject(new CancelError(reason));\n                    }\n                    else {\n                        reject(reason);\n                    }\n                });\n            });\n            const payload = await Promise.race([socket, cancel]);\n            const signer = {\n                actor: payload.sa,\n                permission: payload.sp,\n            };\n            const signatures = Object.keys(payload)\n                .filter((key) => key.startsWith('sig') && key !== 'sig0')\n                .map((key) => payload[key]);\n            // recreate transaction from request response\n            const resolved = await esr.ResolvedSigningRequest.fromPayload(payload, this.requestOptions);\n            const info = resolved.request.getInfo();\n            if (info['fuel_sig']) {\n                signatures.unshift(info['fuel_sig']);\n            }\n            const { serializedTransaction, transaction } = resolved;\n            const result = {\n                request: resolved.request,\n                serializedTransaction,\n                transaction,\n                signatures,\n                payload,\n                signer,\n            };\n            if (broadcast) {\n                const res = await this.rpc.push_transaction({\n                    signatures: result.signatures,\n                    serializedTransaction: result.serializedTransaction,\n                });\n                result.processed = res.processed;\n            }\n            if (t.onSuccess) {\n                t.onSuccess(request, result);\n            }\n            return result;\n        }\n        catch (error) {\n            if (t.onFailure) {\n                t.onFailure(request, error);\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sign and optionally broadcast a EOSIO transaction, action or actions.\n     *\n     * Example:\n     *\n     * ```ts\n     * let result = await myLink.transact({transaction: myTx})\n     * ```\n     *\n     * @param args The action, actions or transaction to use.\n     * @param options Options for this transact call.\n     * @param transport Transport override, for internal use.\n     */\n    async transact(args, options, transport) {\n        const t = transport || this.transport;\n        const broadcast = options ? options.broadcast !== false : true;\n        // Initialize the loading state of the transport\n        if (t && t.showLoading) {\n            t.showLoading();\n        }\n        // eosjs transact compat: upgrade to transaction if args have any header fields\n        console.log(args);\n        let anyArgs = args;\n        if (args.actions &&\n            (anyArgs.expiration ||\n                anyArgs.ref_block_num ||\n                anyArgs.ref_block_prefix ||\n                anyArgs.max_net_usage_words ||\n                anyArgs.max_cpu_usage_ms ||\n                anyArgs.delay_sec)) {\n            args = {\n                transaction: {\n                    expiration: '1970-01-01T00:00:00',\n                    ref_block_num: 0,\n                    ref_block_prefix: 0,\n                    max_net_usage_words: 0,\n                    max_cpu_usage_ms: 0,\n                    delay_sec: 0,\n                    ...anyArgs,\n                },\n            };\n        }\n        console.log(args);\n        const request = await this.createRequest(args, t);\n        console.log(request);\n        const result = await this.sendRequest(request, t, broadcast);\n        return result;\n    }\n    /**\n     * Send an identity request and verify the identity proof.\n     * @param requestPermission Optional request permission if the request is for a specific account or permission.\n     * @param info Metadata to add to the request.\n     * @note This is for advanced use-cases, you probably want to use [[Link.login]] instead.\n     */\n    async identify(requestPermission, info) {\n        const request = await this.createRequest({\n            identity: { permission: requestPermission || null },\n            info,\n        });\n        const res = await this.sendRequest(request);\n        if (!res.request.isIdentity()) {\n            throw new IdentityError(`Unexpected response`);\n        }\n        const message = Buffer.concat([\n            Buffer.from(request.getChainId(), 'hex'),\n            Buffer.from(res.serializedTransaction),\n            Buffer.alloc(32),\n        ]);\n        const { signer } = res;\n        const signerKey = ecc.recover(res.signatures[0], message);\n        const account = await this.rpc.get_account(signer.actor);\n        if (!account) {\n            throw new IdentityError(`Signature from unknown account: ${signer.actor}`);\n        }\n        const permission = account.permissions.find(({ perm_name }) => perm_name === signer.permission);\n        if (!permission) {\n            throw new IdentityError(`${signer.actor} signed for unknown permission: ${signer.permission}`);\n        }\n        const auth = permission.required_auth;\n        const keyAuth = auth.keys.find(({ key }) => publicKeyEqual(key, signerKey));\n        if (!keyAuth) {\n            throw new IdentityError(`${formatAuth(signer)} has no key matching id signature`);\n        }\n        if (auth.threshold > keyAuth.weight) {\n            throw new IdentityError(`${formatAuth(signer)} signature does not reach auth threshold`);\n        }\n        if (requestPermission) {\n            if ((requestPermission.actor !== esr.PlaceholderName &&\n                requestPermission.actor !== signer.actor) ||\n                (requestPermission.permission !== esr.PlaceholderPermission &&\n                    requestPermission.permission !== signer.permission)) {\n                throw new IdentityError(`Unexpected identity proof from ${formatAuth(signer)}, expected ${formatAuth(requestPermission)} `);\n            }\n        }\n        return {\n            ...res,\n            account,\n            signerKey,\n        };\n    }\n    /**\n     * Login and create a persistent session.\n     * @param identifier The session identifier, an EOSIO name (`[a-z1-5]{1,12}`).\n     *                   Should be set to the contract account if applicable.\n     */\n    async login(identifier) {\n        const privateKey = await generatePrivateKey();\n        const requestKey = ecc.privateToPublic(privateKey);\n        const createInfo = {\n            session_name: identifier,\n            request_key: requestKey,\n        };\n        const res = await this.identify(undefined, {\n            link: abiEncode(createInfo, 'link_create'),\n        });\n        const metadata = { sameDevice: res.request.getRawInfo()['return_path'] !== undefined };\n        let session;\n        if (res.payload.link_ch && res.payload.link_key && res.payload.link_name) {\n            session = new LinkChannelSession(this, {\n                identifier,\n                auth: res.signer,\n                publicKey: res.signerKey,\n                channel: {\n                    url: res.payload.link_ch,\n                    key: res.payload.link_key,\n                    name: res.payload.link_name,\n                },\n                requestKey: privateKey,\n            }, metadata);\n        }\n        else {\n            session = new LinkFallbackSession(this, {\n                identifier,\n                auth: res.signer,\n                publicKey: res.signerKey,\n            }, metadata);\n        }\n        if (this.storage) {\n            await this.storeSession(identifier, session);\n        }\n        return {\n            ...res,\n            session,\n        };\n    }\n    /**\n     * Restore previous session, see [[Link.login]] to create a new session.\n     * @param identifier The session identifier, should be same as what was used when creating the session with [[Link.login]].\n     * @param auth A specific session auth to restore, if omitted the most recently used session will be restored.\n     * @returns A [[LinkSession]] instance or null if no session can be found.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session data.\n     **/\n    async restoreSession(identifier, auth) {\n        if (!this.storage) {\n            throw new Error('Unable to restore session: No storage adapter configured');\n        }\n        let key;\n        if (auth) {\n            key = this.sessionKey(identifier, formatAuth(auth));\n        }\n        else {\n            let latest = (await this.listSessions(identifier))[0];\n            if (!latest) {\n                return null;\n            }\n            key = this.sessionKey(identifier, formatAuth(latest));\n        }\n        let data = await this.storage.read(key);\n        if (!data) {\n            return null;\n        }\n        let sessionData;\n        try {\n            sessionData = JSON.parse(data);\n        }\n        catch (error) {\n            throw new Error(`Unable to restore session: Stored JSON invalid (${error.message || String(error)})`);\n        }\n        const session = LinkSession.restore(this, sessionData);\n        if (auth) {\n            // update latest used\n            await this.touchSession(identifier, auth);\n        }\n        return session;\n    }\n    /**\n     * List stored session auths for given identifier.\n     * The most recently used session is at the top (index 0).\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session list.\n     **/\n    async listSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to list sessions: No storage adapter configured');\n        }\n        let key = this.sessionKey(identifier, 'list');\n        let list;\n        try {\n            list = JSON.parse((await this.storage.read(key)) || '[]');\n        }\n        catch (error) {\n            throw new Error(`Unable to list sessions: Stored JSON invalid (${error.message || String(error)})`);\n        }\n        return list;\n    }\n    /**\n     * Remove stored session for given identifier and auth.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async removeSession(identifier, auth) {\n        if (!this.storage) {\n            throw new Error('Unable to remove session: No storage adapter configured');\n        }\n        let key = this.sessionKey(identifier, formatAuth(auth));\n        await this.storage.remove(key);\n        await this.touchSession(identifier, auth, true);\n    }\n    /**\n     * Remove all stored sessions for given identifier.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async clearSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to clear sessions: No storage adapter configured');\n        }\n        for (const auth of await this.listSessions(identifier)) {\n            await this.removeSession(identifier, auth);\n        }\n    }\n    /**\n     * Create an eosjs compatible signature provider using this link.\n     * @param availableKeys Keys the created provider will claim to be able to sign for.\n     * @param transport (internal) Transport override for this call.\n     * @note We don't know what keys are available so those have to be provided,\n     *       to avoid this use [[LinkSession.makeSignatureProvider]] instead. Sessions can be created with [[Link.login]].\n     */\n    makeSignatureProvider(availableKeys, transport) {\n        return {\n            getAvailableKeys: async () => availableKeys,\n            sign: async (args) => {\n                const t = transport || this.transport;\n                let request = esr.SigningRequest.fromTransaction(args.chainId, args.serializedTransaction, this.requestOptions);\n                request.setCallback(this.createCallbackUrl(), true);\n                request.setBroadcast(false);\n                if (t.prepare) {\n                    request = await t.prepare(request);\n                }\n                const { serializedTransaction, signatures, } = await this.sendRequest(request, t);\n                return {\n                    ...args,\n                    serializedTransaction,\n                    signatures,\n                };\n            },\n        };\n    }\n    /**\n     * Create an eosjs authority provider using this link.\n     * @note Uses the configured RPC Node's `/v1/chain/get_required_keys` API to resolve keys.\n     */\n    makeAuthorityProvider() {\n        const { rpc } = this;\n        return {\n            async getRequiredKeys(args) {\n                const { availableKeys, transaction } = args;\n                const result = await rpc.fetch('/v1/chain/get_required_keys', {\n                    transaction,\n                    available_keys: availableKeys.map(normalizePublicKey),\n                });\n                return result.required_keys.map(normalizePublicKey);\n            },\n        };\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async touchSession(identifier, auth, remove = false) {\n        let auths = await this.listSessions(identifier);\n        let formattedAuth = formatAuth(auth);\n        let existing = auths.findIndex((a) => formatAuth(a) === formattedAuth);\n        if (existing >= 0) {\n            auths.splice(existing, 1);\n        }\n        if (remove === false) {\n            auths.unshift(auth);\n        }\n        let key = this.sessionKey(identifier, 'list');\n        await this.storage.write(key, JSON.stringify(auths));\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async storeSession(identifier, session) {\n        let key = this.sessionKey(identifier, formatAuth(session.auth));\n        let data = JSON.stringify(session.serialize());\n        await this.storage.write(key, data);\n        await this.touchSession(identifier, session.auth);\n    }\n    /** Session storage key for identifier and suffix. */\n    sessionKey(identifier, suffix) {\n        return [this.chainId, identifier, suffix].join('-');\n    }\n}\n/**\n * Connect to a WebSocket channel and wait for a message.\n * @internal\n */\nfunction waitForCallback(url, ctx) {\n    return new Promise((resolve, reject) => {\n        let active = true;\n        let retries = 0;\n        const socketUrl = url.replace(/^http/, 'ws');\n        const handleResponse = (response) => {\n            try {\n                resolve(JSON.parse(response));\n            }\n            catch (error) {\n                error.message = 'Unable to parse callback JSON: ' + error.message;\n                reject(error);\n            }\n        };\n        const connect = () => {\n            const socket = new WebSocket(socketUrl);\n            ctx.cancel = () => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN ||\n                    socket.readyState === WebSocket.CONNECTING) {\n                    socket.close();\n                }\n            };\n            socket.onmessage = (event) => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN) {\n                    socket.close();\n                }\n                if (typeof Blob !== 'undefined' && event.data instanceof Blob) {\n                    const reader = new FileReader();\n                    reader.onload = () => {\n                        handleResponse(reader.result);\n                    };\n                    reader.onerror = (error) => {\n                        reject(error);\n                    };\n                    reader.readAsText(event.data);\n                }\n                else {\n                    if (typeof event.data === 'string') {\n                        handleResponse(event.data);\n                    }\n                    else {\n                        handleResponse(event.data.toString());\n                    }\n                }\n            };\n            socket.onopen = () => {\n                retries = 0;\n            };\n            socket.onerror = (error) => { };\n            socket.onclose = (close) => {\n                if (active) {\n                    setTimeout(connect, backoff(retries++));\n                }\n            };\n        };\n        connect();\n    });\n}\n/**\n * Exponential backoff function that caps off at 10s after 10 tries.\n * https://i.imgur.com/IrUDcJp.png\n * @internal\n */\nfunction backoff(tries) {\n    return Math.min(Math.pow(tries * 10, 2), 10 * 1000);\n}\n/**\n * Format a EOSIO permission level in the format `actor@permission` taking placeholders into consideration.\n * @internal\n */\nfunction formatAuth(auth) {\n    let { actor, permission } = auth;\n    if (actor === esr.PlaceholderName) {\n        actor = '<any>';\n    }\n    if (permission === esr.PlaceholderName || permission === esr.PlaceholderPermission) {\n        permission = '<any>';\n    }\n    return `${actor}@${permission}`;\n}\n//# sourceMappingURL=link.js.map","/** @internal */\nexport const defaults = {\n    chainId: 'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n    rpc: 'https://eos.greymass.com',\n    service: 'https://cb.anchor.link',\n};\n//# sourceMappingURL=link-options.js.map","module.exports = __webpack_public_path__ + \"static/media/jungle.3f2409df.png\";","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Name = 'Anchor';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst UALAnchorError_1 = require(\"./UALAnchorError\");\nclass AnchorUser extends universal_authenticator_library_1.User {\n    constructor(rpc, session) {\n        super();\n        this.accountName = '';\n        this.requestPermission = '';\n        this.chainId = session.link.chainId;\n        this.accountName = session.auth.actor;\n        this.requestPermission = session.auth.permission;\n        this.session = session;\n        this.rpc = rpc;\n    }\n    signTransaction(transaction, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                console.log(transaction.expiration);\n                const completedTransaction = yield this.session.transact(transaction, options);\n                console.log(completedTransaction.transaction.expiration);\n                return this.returnEosjsTransaction(options.broadcast, completedTransaction);\n            }\n            catch (e) {\n                const message = e.message ? e.message : 'Unable to sign transaction';\n                const type = universal_authenticator_library_1.UALErrorType.Signing;\n                const cause = e;\n                throw new UALAnchorError_1.UALAnchorError(message, type, cause);\n            }\n        });\n    }\n    signArbitrary(publicKey, data, _) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"signArbitrary\", publicKey, data);\n            throw new UALAnchorError_1.UALAnchorError(`Anchor does not currently support signArbitrary`, universal_authenticator_library_1.UALErrorType.Unsupported, null);\n        });\n    }\n    verifyKeyOwnership(challenge) {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"verifyKeyOwnership\", challenge);\n            throw new UALAnchorError_1.UALAnchorError(`Anchor does not currently support verifyKeyOwnership`, universal_authenticator_library_1.UALErrorType.Unsupported, null);\n        });\n    }\n    getAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.accountName;\n        });\n    }\n    getChainId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.chainId;\n        });\n    }\n    getKeys() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"getKeys\");\n            try {\n                const keys = yield this.signatureProvider.getAvailableKeys(this.requestPermission);\n                return keys;\n            }\n            catch (error) {\n                const message = `Unable to getKeys for account ${this.accountName}.\n        Please make sure your wallet is running.`;\n                const type = universal_authenticator_library_1.UALErrorType.DataRequest;\n                const cause = error;\n                throw new UALAnchorError_1.UALAnchorError(message, type, cause);\n            }\n        });\n    }\n    isAccountValid() {\n        return __awaiter(this, void 0, void 0, function* () {\n            console.log(\"isAccountValid\");\n            try {\n                const account = this.rpc && (yield this.rpc.get_account(this.accountName));\n                const actualKeys = this.extractAccountKeys(account);\n                const authorizationKeys = yield this.getKeys();\n                return actualKeys.filter((key) => {\n                    return authorizationKeys.indexOf(key) !== -1;\n                }).length > 0;\n            }\n            catch (e) {\n                if (e.constructor.name === 'UALAnchorError') {\n                    throw e;\n                }\n                const message = `Account validation failed for account ${this.accountName}.`;\n                const type = universal_authenticator_library_1.UALErrorType.Validation;\n                const cause = e;\n                throw new UALAnchorError_1.UALAnchorError(message, type, cause);\n            }\n        });\n    }\n    extractAccountKeys(account) {\n        console.log(\"extractAccountKeys\", account);\n        const keySubsets = account.permissions.map((permission) => permission.required_auth.keys.map((key) => key.key));\n        let keys = [];\n        for (const keySubset of keySubsets) {\n            keys = keys.concat(keySubset);\n        }\n        return keys;\n    }\n}\nexports.AnchorUser = AnchorUser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst interfaces_1 = require(\"./interfaces\");\nclass UALAnchorError extends universal_authenticator_library_1.UALError {\n    constructor(message, type, cause) {\n        super(message, type, cause, interfaces_1.Name);\n    }\n}\nexports.UALAnchorError = UALAnchorError;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Anchor\"));\n__export(require(\"./AnchorUser\"));\n","export default {\n    version: 'eosio::abi/1.1',\n    types: [],\n    structs: [\n        {\n            name: 'sealed_message',\n            base: '',\n            fields: [\n                {\n                    name: 'from',\n                    type: 'public_key',\n                },\n                {\n                    name: 'nonce',\n                    type: 'uint64',\n                },\n                {\n                    name: 'ciphertext',\n                    type: 'bytes',\n                },\n                {\n                    name: 'checksum',\n                    type: 'uint32',\n                },\n            ],\n        },\n        {\n            name: 'link_create',\n            base: '',\n            fields: [\n                {\n                    name: 'session_name',\n                    type: 'name',\n                },\n                {\n                    name: 'request_key',\n                    type: 'public_key',\n                },\n            ],\n        },\n        {\n            name: 'link_info',\n            base: '',\n            fields: [\n                {\n                    name: 'expiration',\n                    type: 'time_point_sec',\n                },\n            ],\n        },\n    ],\n    actions: [],\n    ricardian_clauses: [],\n    error_messages: [],\n    tables: [],\n    abi_extensions: [],\n};\n//# sourceMappingURL=link-abi-data.js.map","/**\n * Error that is thrown if a [[LinkTransport]] cancels a request.\n * @internal\n */\nexport class CancelError extends Error {\n    constructor(reason) {\n        super(`User canceled request ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_CANCEL';\n    }\n}\n/**\n * Error that is thrown if an identity request fails to verify.\n * @internal\n */\nexport class IdentityError extends Error {\n    constructor(reason) {\n        super(`Unable to verify identity ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_IDENTITY';\n    }\n}\n/**\n * Error originating from a [[LinkSession]].\n * @internal\n */\nexport class SessionError extends Error {\n    constructor(reason, code) {\n        super(reason);\n        this.code = code;\n    }\n}\n//# sourceMappingURL=errors.js.map","module.exports = __webpack_public_path__ + \"static/media/eos.b3392955.png\";","module.exports = __webpack_public_path__ + \"static/media/fio.9ae02e71.svg\";","module.exports = __webpack_public_path__ + \"static/media/proton.c090f672.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wax.f02a31b4.png\";","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst universal_authenticator_library_1 = require(\"universal-authenticator-library\");\nconst anchor_link_1 = __importDefault(require(\"anchor-link\"));\nconst eosjs_1 = require(\"eosjs\");\nconst interfaces_1 = require(\"./interfaces\");\nconst AnchorUser_1 = require(\"./AnchorUser\");\nconst AnchorLogo_1 = require(\"./AnchorLogo\");\nconst UALAnchorError_1 = require(\"./UALAnchorError\");\nconst anchor_link_browser_transport_1 = __importDefault(require(\"anchor-link-browser-transport\"));\nclass Anchor extends universal_authenticator_library_1.Authenticator {\n    /**\n     * Anchor Constructor.\n     *\n     * @param chains\n     * @param options { appName } appName is a required option to use Scatter\n     */\n    constructor(chains, options) {\n        super(chains);\n        // Storage for AnchorUser instances\n        this.users = [];\n        // the callback service url, defaults to https://cb.anchor.link\n        this.service = 'https://cb.anchor.link';\n        // disable Greymass Fuel cosigning, defaults to false\n        this.disableGreymassFuel = false;\n        // display the request status returned by anchor-link, defaults to false (ual has it's own)\n        this.requestStatus = false;\n        // Establish initial values\n        this.chainId = chains[0].chainId;\n        this.users = [];\n        // Determine the default rpc endpoint for this chain\n        const [chain] = chains;\n        const [rpc] = chain.rpcEndpoints;\n        // Ensure the appName is set properly\n        if (options && options.appName) {\n            this.appName = options.appName;\n        }\n        else {\n            throw new UALAnchorError_1.UALAnchorError('ual-anchor requires the appName property to be set on the `options` argument during initialization.', universal_authenticator_library_1.UALErrorType.Initialization, null);\n        }\n        // Allow overriding the JsonRpc client via options\n        if (options && options.rpc) {\n            this.rpc = options.rpc;\n        }\n        else {\n            // otherwise just return a generic rpc instance for this endpoint\n            this.rpc = new eosjs_1.JsonRpc(`${rpc.protocol}://${rpc.host}:${rpc.port}`);\n        }\n        // Allow passing a custom service URL to process callbacks\n        if (options.service) {\n            this.service = options.service;\n        }\n        // Allow passing of disable flag for Greymass Fuel\n        if (options && options.disableGreymassFuel) {\n            this.disableGreymassFuel = options.disableGreymassFuel;\n        }\n        // Allow passing of disable flag for resulting request status\n        if (options && options.requestStatus) {\n            this.requestStatus = options.requestStatus;\n        }\n    }\n    /**\n     * Called after `shouldRender` and should be used to handle any async actions required to initialize the authenticator\n     */\n    init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // establish anchor-link\n            this.link = new anchor_link_1.default({\n                chainId: this.chainId,\n                rpc: this.rpc,\n                service: this.service,\n                transport: new anchor_link_browser_transport_1.default({\n                    // default: disable browser transport UI status messages, ual has its own\n                    requestStatus: this.requestStatus,\n                    // default: do not disable fuel by default\n                    disableGreymassFuel: this.disableGreymassFuel,\n                }),\n            });\n            // attempt to restore any existing session for this app\n            const session = yield this.link.restoreSession(this.appName);\n            if (session) {\n                this.users = [new AnchorUser_1.AnchorUser(this.rpc, session)];\n            }\n        });\n    }\n    /**\n     * Resets the authenticator to its initial, default state then calls `init` method\n     */\n    reset() {\n        this.users = [];\n    }\n    /**\n     * Returns true if the authenticator has errored while initializing.\n     */\n    isErrored() {\n        return false;\n    }\n    /**\n     * Returns a URL where the user can download and install the underlying authenticator\n     * if it is not found by the UAL Authenticator.\n     */\n    getOnboardingLink() {\n        return 'https://github.com/greymass/anchor/';\n    }\n    /**\n     * Returns error (if available) if the authenticator has errored while initializing.\n     */\n    getError() {\n        return null;\n    }\n    /**\n     * Returns true if the authenticator is loading while initializing its internal state.\n     */\n    isLoading() {\n        return false;\n    }\n    getName() {\n        return 'anchor';\n    }\n    /**\n     * Returns the style of the Button that will be rendered.\n     */\n    getStyle() {\n        return {\n            icon: AnchorLogo_1.AnchorLogo,\n            text: interfaces_1.Name,\n            textColor: 'white',\n            background: '#3650A2'\n        };\n    }\n    /**\n     * Returns whether or not the button should render based on the operating environment and other factors.\n     * ie. If your Authenticator App does not support mobile, it returns false when running in a mobile browser.\n     */\n    shouldRender() {\n        return !this.isLoading();\n    }\n    /**\n     * Returns whether or not the dapp should attempt to auto login with the Authenticator app.\n     * Auto login will only occur when there is only one Authenticator that returns shouldRender() true and\n     * shouldAutoLogin() true.\n     */\n    shouldAutoLogin() {\n        return this.users.length > 0;\n    }\n    /**\n     * Returns whether or not the button should show an account name input field.\n     * This is for Authenticators that do not have a concept of account names.\n     */\n    shouldRequestAccountName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return false;\n        });\n    }\n    /**\n     * Login using the Authenticator App. This can return one or more users depending on multiple chain support.\n     *\n     * @param accountName  The account name of the user for Authenticators that do not store accounts (optional)\n     */\n    login() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.chains.length > 1) {\n                throw new UALAnchorError_1.UALAnchorError('UAL-Anchor does not yet support providing multiple chains to UAL. Please initialize the UAL provider with a single chain.', universal_authenticator_library_1.UALErrorType.Unsupported, null);\n            }\n            try {\n                // only call the login method if no users exist, to prevent UI from prompting for login during auto login\n                //  some changes to UAL are going to be required to support multiple users\n                if (this.users.length === 0) {\n                    const identity = yield this.link.login(this.appName);\n                    this.users = [new AnchorUser_1.AnchorUser(this.rpc, identity.session)];\n                }\n            }\n            catch (e) {\n                throw new UALAnchorError_1.UALAnchorError(e.message, universal_authenticator_library_1.UALErrorType.Login, e);\n            }\n            return this.users;\n        });\n    }\n    /**\n     * Logs the user out of the dapp. This will be strongly dependent on each Authenticator app's patterns.\n     */\n    logout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // retrieve the current user\n            const [user] = this.users;\n            // retrieve the auth from the current user\n            const { session: { auth } } = user;\n            // remove the session from anchor-link\n            yield this.link.removeSession(this.appName, auth);\n            // reset the authenticator\n            this.reset();\n        });\n    }\n    /**\n     * Returns true if user confirmation is required for `getKeys`\n     */\n    requiresGetKeyConfirmation() {\n        return false;\n    }\n}\nexports.Anchor = Anchor;\n","import * as qrcode from 'qrcode';\nimport styleText from './styles';\nimport { fuel } from './fuel';\nclass Storage {\n    constructor(keyPrefix) {\n        this.keyPrefix = keyPrefix;\n    }\n    async write(key, data) {\n        localStorage.setItem(this.storageKey(key), data);\n    }\n    async read(key) {\n        return localStorage.getItem(this.storageKey(key));\n    }\n    async remove(key) {\n        localStorage.removeItem(this.storageKey(key));\n    }\n    storageKey(key) {\n        return `${this.keyPrefix}-${key}`;\n    }\n}\nexport default class BrowserTransport {\n    constructor(options = {}) {\n        this.options = options;\n        this.classPrefix = options.classPrefix || 'anchor-link';\n        this.injectStyles = !(options.injectStyles === false);\n        this.requestStatus = !(options.requestStatus === false);\n        this.fuelEnabled = options.disableGreymassFuel !== true;\n        this.storage = new Storage(options.storagePrefix || 'anchor-link');\n    }\n    closeModal() {\n        this.hide();\n        if (this.activeCancel) {\n            this.activeRequest = undefined;\n            this.activeCancel('Modal closed');\n            this.activeCancel = undefined;\n        }\n    }\n    setupElements() {\n        if (this.injectStyles && !this.styleEl) {\n            this.styleEl = document.createElement('style');\n            this.styleEl.type = 'text/css';\n            const css = styleText.replace(/%prefix%/g, this.classPrefix);\n            this.styleEl.appendChild(document.createTextNode(css));\n            document.head.appendChild(this.styleEl);\n        }\n        if (!this.containerEl) {\n            this.containerEl = this.createEl();\n            this.containerEl.className = this.classPrefix;\n            this.containerEl.onclick = (event) => {\n                if (event.target === this.containerEl) {\n                    event.stopPropagation();\n                    this.closeModal();\n                }\n            };\n            document.body.appendChild(this.containerEl);\n        }\n        if (!this.requestEl) {\n            let wrapper = this.createEl({ class: 'inner' });\n            let closeButton = this.createEl({ class: 'close' });\n            closeButton.onclick = (event) => {\n                event.stopPropagation();\n                this.closeModal();\n            };\n            this.requestEl = this.createEl({ class: 'request' });\n            wrapper.appendChild(this.requestEl);\n            wrapper.appendChild(closeButton);\n            this.containerEl.appendChild(wrapper);\n        }\n    }\n    createEl(attrs) {\n        if (!attrs)\n            attrs = {};\n        const el = document.createElement(attrs.tag || 'div');\n        if (attrs) {\n            for (const attr of Object.keys(attrs)) {\n                const value = attrs[attr];\n                switch (attr) {\n                    case 'tag':\n                        break;\n                    case 'text':\n                        el.appendChild(document.createTextNode(value));\n                        break;\n                    case 'class':\n                        el.className = `${this.classPrefix}-${value}`;\n                        break;\n                    default:\n                        el.setAttribute(attr, value);\n                }\n            }\n        }\n        return el;\n    }\n    hide() {\n        if (this.containerEl) {\n            this.containerEl.classList.remove(`${this.classPrefix}-active`);\n        }\n        this.clearTimers();\n    }\n    show() {\n        if (this.containerEl) {\n            this.containerEl.classList.add(`${this.classPrefix}-active`);\n        }\n    }\n    async displayRequest(request) {\n        this.setupElements();\n        let sameDeviceRequest = request.clone();\n        sameDeviceRequest.setInfoKey('same_device', true);\n        sameDeviceRequest.setInfoKey('return_path', returnUrl());\n        let sameDeviceUri = sameDeviceRequest.encode(true, false);\n        let crossDeviceUri = request.encode(true, false);\n        const isIdentity = request.isIdentity();\n        const title = isIdentity ? 'Login' : 'Sign';\n        const subtitle = 'Scan the QR-code with your Anchor app.';\n        const qrEl = this.createEl({ class: 'qr' });\n        try {\n            qrEl.innerHTML = await qrcode.toString(crossDeviceUri, {\n                margin: 0,\n                errorCorrectionLevel: 'L',\n            });\n        }\n        catch (error) {\n            console.warn('Unable to generate QR code', error);\n        }\n        const linkEl = this.createEl({ class: 'uri' });\n        const linkA = this.createEl({\n            tag: 'a',\n            href: crossDeviceUri,\n            text: 'Open Anchor app',\n        });\n        linkA.addEventListener('click', (event) => {\n            event.preventDefault();\n            window.location.href = sameDeviceUri;\n        });\n        linkEl.appendChild(linkA);\n        const infoEl = this.createEl({ class: 'info' });\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: title });\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoTitle);\n        infoEl.appendChild(infoSubtitle);\n        const actionEl = this.createEl({ class: 'actions' });\n        actionEl.appendChild(qrEl);\n        actionEl.appendChild(linkEl);\n        let footnoteEl;\n        if (isIdentity) {\n            footnoteEl = this.createEl({ class: 'footnote', text: \"Don't have Anchor? \" });\n            const footnoteLink = this.createEl({\n                tag: 'a',\n                target: '_blank',\n                href: 'https://greymass.com/anchor',\n                text: 'Download Anchor app now',\n            });\n            footnoteEl.appendChild(footnoteLink);\n        }\n        else {\n            footnoteEl = this.createEl({\n                class: 'footnote',\n                text: 'Anchor signing is brought to you by ',\n            });\n            const footnoteLink = this.createEl({\n                tag: 'a',\n                target: '_blank',\n                href: 'https://greymass.com',\n                text: 'Greymass',\n            });\n            footnoteEl.appendChild(footnoteLink);\n        }\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.requestEl.appendChild(actionEl);\n        this.requestEl.appendChild(footnoteEl);\n        this.show();\n    }\n    async showLoading() {\n        this.setupElements();\n        emptyElement(this.requestEl);\n        const infoEl = this.createEl({ class: 'info' });\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Loading' });\n        const infoSubtitle = this.createEl({\n            class: 'subtitle',\n            tag: 'span',\n            text: 'Preparing request...',\n        });\n        this.prepareStatusEl = infoSubtitle;\n        infoEl.appendChild(infoTitle);\n        infoEl.appendChild(infoSubtitle);\n        const logoEl = this.createEl({ class: 'logo loading' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.show();\n    }\n    onRequest(request, cancel) {\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.displayRequest(request).catch(cancel);\n    }\n    onSessionRequest(session, request, cancel) {\n        if (session.metadata.sameDevice) {\n            request.setInfoKey('return_path', returnUrl());\n        }\n        if (session.type === 'fallback') {\n            this.onRequest(request, cancel);\n            if (session.metadata.sameDevice) {\n                // trigger directly on a fallback same-device session\n                window.location.href = request.encode();\n            }\n            return;\n        }\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.setupElements();\n        const timeout = session.metadata.timeout || 60 * 1000 * 2;\n        const deviceName = session.metadata.name;\n        const start = Date.now();\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Sign' });\n        const updateCountdown = () => {\n            const timeLeft = timeout + start - Date.now();\n            const timeFormatted = timeLeft > 0 ? new Date(timeLeft).toISOString().substr(14, 5) : '00:00';\n            infoTitle.textContent = `Sign - ${timeFormatted}`;\n        };\n        this.countdownTimer = setInterval(updateCountdown, 500);\n        updateCountdown();\n        const infoEl = this.createEl({ class: 'info' });\n        infoEl.appendChild(infoTitle);\n        let subtitle;\n        if (deviceName && deviceName.length > 0) {\n            subtitle = `Please open Anchor app on ${deviceName} to review and sign the transaction.`;\n        }\n        else {\n            subtitle = 'Please review and sign the transaction in the linked wallet.';\n        }\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoSubtitle);\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.show();\n        if (isAppleHandheld() && session.metadata.sameDevice) {\n            window.location.href = 'anchor://link';\n        }\n    }\n    clearTimers() {\n        if (this.closeTimer) {\n            clearTimeout(this.closeTimer);\n            this.closeTimer = undefined;\n        }\n        if (this.countdownTimer) {\n            clearTimeout(this.countdownTimer);\n            this.countdownTimer = undefined;\n        }\n    }\n    updatePrepareStatus(message) {\n        if (this.prepareStatusEl) {\n            this.prepareStatusEl.textContent = message;\n        }\n    }\n    async prepare(request, session) {\n        this.showLoading();\n        if (!this.fuelEnabled || !session || request.isIdentity()) {\n            // don't attempt to cosign id request or if we don't have a session attached\n            return request;\n        }\n        try {\n            const result = fuel(request, session, this.updatePrepareStatus.bind(this));\n            const timeout = new Promise((r) => setTimeout(r, 3500)).then(() => {\n                throw new Error('Fuel API timeout after 3500ms');\n            });\n            return await Promise.race([result, timeout]);\n        }\n        catch (error) {\n            console.info(`Not applying fuel (${error.message})`);\n        }\n        return request;\n    }\n    onSuccess(request) {\n        if (request === this.activeRequest) {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('success');\n                const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Success!' });\n                const subtitle = request.isIdentity() ? 'Identity signed.' : 'Transaction signed.';\n                const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n                this.closeTimer = setTimeout(() => {\n                    this.hide();\n                }, 1.5 * 1000);\n            }\n            else {\n                this.hide();\n            }\n        }\n    }\n    onFailure(request, error) {\n        if (request === this.activeRequest && error['code'] !== 'E_CANCEL') {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('error');\n                const infoTitle = this.createEl({\n                    class: 'title',\n                    tag: 'span',\n                    text: 'Transaction error',\n                });\n                const infoSubtitle = this.createEl({\n                    class: 'subtitle',\n                    tag: 'span',\n                    text: error.message || String(error),\n                });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        }\n    }\n}\nfunction emptyElement(el) {\n    while (el.firstChild) {\n        el.removeChild(el.firstChild);\n    }\n}\nconst returnUrlAlphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nconst returnUrlAlphabetLen = returnUrlAlphabet.length;\n/** Generate a return url with a random #fragment so mobile safari will redirect back w/o reload. */\nfunction returnUrl() {\n    let rv = window.location.href.split('#')[0] + '#';\n    for (let i = 0; i < 8; i++) {\n        rv += returnUrlAlphabet.charAt(Math.floor(Math.random() * returnUrlAlphabetLen));\n    }\n    return rv;\n}\nfunction isAppleHandheld() {\n    return /iP(ad|od|hone)/i.test(navigator.userAgent);\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AnchorLogo = `data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4=`;\n","import { Numeric, Serialize } from 'eosjs';\nimport * as ecc from 'eosjs-ecc';\nimport makeFetch from 'fetch-ponyfill';\nimport linkAbi from './link-abi-data';\n/** @internal */\nexport const fetch = makeFetch().fetch;\n/** @internal */\nconst types = Serialize.getTypesFromAbi(Serialize.createInitialTypes(), linkAbi);\n/**\n * Helper to ABI encode value.\n * @internal\n */\nexport function abiEncode(value, typeName) {\n    let type = types.get(typeName);\n    if (!type) {\n        throw new Error(`No such type: ${typeName}`);\n    }\n    let buf = new Serialize.SerialBuffer();\n    type.serialize(buf, value);\n    return buf.asUint8Array();\n}\n/**\n * Helper to ABI decode data.\n * @internal\n */\nexport function abiDecode(data, typeName) {\n    let type = types.get(typeName);\n    if (!type) {\n        throw new Error(`No such type: ${typeName}`);\n    }\n    if (typeof data === 'string') {\n        data = Serialize.hexToUint8Array(data);\n    }\n    else if (!(data instanceof Uint8Array)) {\n        data = new Uint8Array(data);\n    }\n    let buf = new Serialize.SerialBuffer({\n        array: data,\n    });\n    return type.deserialize(buf);\n}\n/**\n * Encrypt a message using AES and shared secret derived from given keys.\n * @internal\n */\nexport function sealMessage(message, privateKey, publicKey) {\n    const res = ecc.Aes.encrypt(privateKey, publicKey, message);\n    const data = {\n        from: ecc.privateToPublic(privateKey),\n        nonce: res.nonce.toString(),\n        ciphertext: res.message,\n        checksum: res.checksum,\n    };\n    return abiEncode(data, 'sealed_message');\n}\n/**\n * Ensure public key is in new PUB_ format.\n * @internal\n */\nexport function normalizePublicKey(key) {\n    if (key.startsWith('PUB_')) {\n        return key;\n    }\n    return Numeric.publicKeyToString(Numeric.stringToPublicKey('EOS' + key.substr(-50)));\n}\n/**\n * Return true if given public keys are equal.\n * @internal\n */\nexport function publicKeyEqual(keyA, keyB) {\n    return normalizePublicKey(keyA) === normalizePublicKey(keyB);\n}\n/**\n * Generate a random private key.\n * Uses browser crypto if available, otherwise falls back to slow eosjs-ecc.\n * @internal\n */\nexport async function generatePrivateKey() {\n    if (typeof window !== 'undefined' && window.crypto) {\n        const data = new Uint32Array(32);\n        window.crypto.getRandomValues(data);\n        return ecc.PrivateKey.fromBuffer(Buffer.from(data)).toString();\n    }\n    else {\n        return await ecc.randomKey();\n    }\n}\n//# sourceMappingURL=utils.js.map","import React, { Component } from 'react'\nimport { Button, Table } from 'semantic-ui-react';\n\nclass Debug extends Component {\n  render() {\n    const { activeUser, chain, users } = this.props;\n    return (\n      <Table>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell collapsing>{chain.name}</Table.HeaderCell>\n            <Table.HeaderCell>Account</Table.HeaderCell>\n            <Table.HeaderCell>Permission</Table.HeaderCell>\n            <Table.HeaderCell />\n          </Table.Row>\n        </Table.Header>\n        {(users.length)\n          ? (\n            <Table.Body>\n              {users.map((s) => {\n                let actor;\n                let permission;\n                let key;\n                let isCurrent = false;\n                if (activeUser.scatter) {\n                  const [ active ] = activeUser.scatter.identity.accounts;\n                  const [ current ] = s.scatter.identity.accounts;\n                  isCurrent = (current && current.name  === active.name && current.authority === active.authority);\n                  key = [current.name, current.authority].join('-')\n                  actor = current.name\n                  permission = current.authority\n                }\n                if (activeUser.session) {\n                  isCurrent = (activeUser && s.accountName === activeUser.accountName && s.requestPermission === activeUser.requestPermission)\n                  key = Object.values(s).join('-')\n                  actor = s.accountName\n                  permission = s.requestPermission\n                }\n                return (\n                  <Table.Row key={key}>\n                    <Table.Cell collapsing>\n                      <Button\n                        color={isCurrent ? \"blue\" : \"green\"}\n                        content={isCurrent ? \"In Use\" : \"Use Account\"}\n                        disabled={isCurrent}\n                        onClick={() => this.props.setSession({ actor, permission })}\n                      />\n                    </Table.Cell>\n                    <Table.Cell>{actor}</Table.Cell>\n                    <Table.Cell>{permission}</Table.Cell>\n                    <Table.Cell collapsing>\n                      <Button\n                        color=\"red\"\n                        icon=\"trash\"\n                        onClick={() => this.props.removeSession({ actor, permission })}\n                      />\n                    </Table.Cell>\n                  </Table.Row>\n                );\n              })}\n            </Table.Body>\n          )\n          : (\n            <Table.Body>\n              <Table.Row textAlign=\"center\">\n                <Table.Cell colSpan=\"4\">No Accounts Imported</Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          )\n        }\n        <Table.Footer fullWidth>\n          <Table.Row>\n            <Table.HeaderCell />\n            <Table.HeaderCell colSpan=\"4\" textAlign=\"center\">\n              <Button\n                basic\n                content=\"Add Account\"\n                fluid\n                onClick={this.props.addAccount}\n                primary\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default Debug;\n","import React, { Component } from 'react'\nimport { Dropdown } from 'semantic-ui-react';\n\nimport eosLogo from './assets/eos.png';\nimport fioLogo from './assets/fio.svg';\nimport jungleLogo from './assets/jungle.png';\nimport protonLogo from './assets/proton.png';\nimport telosLogo from './assets/telos.png';\nimport waxLogo from './assets/wax.png';\n\nimport blockchains from './assets/blockchains.json';\n\nconst logoMap = {\n  \"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72\": eosLogo,\n  \"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e\": fioLogo,\n  \"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473\": jungleLogo,\n  \"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840\": jungleLogo,\n  \"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd\": protonLogo,\n  \"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f\": telosLogo,\n  \"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12\": waxLogo,\n};\n\nconst options = blockchains.map((chain) => ({\n  key: chain.chainId,\n  text: chain.name,\n  value: chain.chainId,\n  image: {\n    avatar: true,\n    src: logoMap[chain.chainId]\n  },\n}));\n\n\nclass Blockchains extends Component {\n  render() {\n    const { chain } = this.props;\n    return (\n      <Dropdown\n        fluid\n        onChange={this.props.onChange}\n        options={options}\n        placeholder='Select Blockchain...'\n        search\n        selection\n        value={chain.chainId}\n      />\n    );\n  }\n}\n\nexport default Blockchains;\n","import React, { Component } from 'react'\nimport { Header, List, Segment } from 'semantic-ui-react';\nimport ReactJson from 'react-json-view';\nimport { CodeBlock, monokai } from 'react-code-blocks'\n\nimport { Serialize } from 'eosjs'\nconst transactionAbi = require('eosjs/src/transaction.abi.json')\nconst transactionTypes: Map<string, Serialize.Type> = Serialize.getTypesFromAbi(Serialize.createInitialTypes(), transactionAbi)\n\nclass Transaction extends Component {\n  testResponse = () => {\n    const { response } = this.props\n    const tests = [\n      {\n        name: \"Not Broadcast\",\n        desc: \"The adapter has not broadcast the transaction.\",\n        test: (r) => r.wasBroadcast === false,\n        data: (r) => r.wasBroadcast,\n      },\n      {\n        name: \"Signatures returned by signer\",\n        desc: \"The signer has returned signatures in its response.\",\n        test: (r) => !!(r.transaction.signatures && r.transaction.signatures.length >= 1),\n        data: (r) => JSON.stringify(r.transaction.signatures),\n      },\n      {\n        name: \"Unserialized transaction returned by signer\",\n        desc: \"The signer has returned an unserialized transaction in its response.\",\n        test: (r) => !!(r.transaction.transaction),\n        data: (r) => JSON.stringify(r.transaction.transaction),\n      },\n      {\n        name: \"Serialized transaction returned by signer\",\n        desc: \"The signer has returned a serialized transaction in its response.\",\n        test: (r) => !!(r.transaction.serializedTransaction),\n        data: (r) => JSON.stringify(r.transaction.serializedTransaction),\n      },\n      {\n        name: \"Serialized transaction successfully deserialized\",\n        desc: \"The serialized transaction the signer returned can be successfully deserialized.\",\n        test: (r) => {\n          try {\n            const tx = this.deserialize(r.transaction.serializedTransaction)\n            return (\n              tx.expiration\n              && tx.actions\n              && tx.actions.length > 0\n              && tx.ref_block_num > 0\n              && tx.ref_block_prefix > 0\n            )\n          } catch (e) {\n            return false\n          }\n        },\n        data: (r) => {\n          try {\n            const tx = this.deserialize(r.transaction.serializedTransaction)\n            return JSON.stringify(tx)\n          } catch (e) {\n            return JSON.stringify({})\n          }\n        }\n      },\n    ]\n    return tests.map((testCase) => {\n      return {\n        ...testCase,\n        res: testCase.test(response),\n        val: testCase.data(response),\n      }\n    })\n  }\n  deserialize = (serialized) => {\n    const buffer = new Serialize.SerialBuffer({\n      array: serialized,\n    })\n    const type = transactionTypes.get('transaction')\n    return type.deserialize(buffer)\n  }\n  render() {\n    const { response } = this.props;\n    const tests = this.testResponse()\n    return (\n      <React.Fragment>\n        <Segment style={{ overflowX: 'scroll' }}>\n          <List divided relaxed>\n            {tests.map(test => (\n              <List.Item>\n                <List.Icon\n                  color={test.res ? \"green\" : \"red\"}\n                  name={test.res ? \"checkmark\" : \"x\"}\n                  size=\"large\"\n                  verticalAlign=\"top\"\n                />\n                <List.Content>\n                  <List.Header>{test.name}</List.Header>\n                  <List.Description>{test.desc}</List.Description>\n                  <List.Content style={{ margin: '0.5em 0' }}><code>{test.val}</code></List.Content>\n                </List.Content>\n              </List.Item>\n            ))}\n          </List>\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Callback Payload\n          </Header>\n          <CodeBlock\n            text={`console.log(response.payload);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.payload}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Signer\n          </Header>\n          <CodeBlock\n            text={`console.log(response.signer);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.signer}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Transaction;\n","// React and UI components for demo\nimport React, { Component } from 'react'\nimport { Button, Container, Header, Segment } from 'semantic-ui-react'\n\n// The required ual includes\nimport { withUAL } from 'ual-reactjs-renderer'\n\n// React components for this demo, not required\nimport Accounts from './Accounts.js'\nimport Blockchains from './Blockchains.js'\nimport Response from './Response.js'\n\nclass App extends Component {\n  // Demo initialization code\n  constructor(props) {\n    super(props)\n    // Set initial blank application state\n    this.state = {\n      response: undefined,\n      session: undefined,\n      sessions: [],\n      transacting: false,\n    }\n  }\n  addAccount = () => {\n    this.props.ual.showModal()\n  }\n  signTransaction = async () => {\n    // Retrieve current session from state\n    const { ual: { activeUser } } = this.props\n    this.setState({\n      // Reset our response state to clear any previous transaction data\n      response: undefined,\n      // Set loading flag\n      transacting: true,\n    })\n    try {\n      // Determine our auth from the current authenticator\n      let actor;\n      let permission;\n      if (activeUser.scatter) {\n        const [ current ] = activeUser.scatter.identity.accounts;\n        actor = current.name\n        permission = current.authority\n      }\n      if (activeUser.session) {\n        actor = activeUser.accountName\n        permission = activeUser.requestPermission\n      }\n      // Call transact on the session\n      const transaction = {\n        actions: [{\n          account: 'eosio',\n          name: 'voteproducer',\n          authorization: [{ actor, permission }],\n          data: {\n            producers: [],\n            // proxy: 'greymassvote',\n            proxy: 'waaaaaaaaaat',\n            voter: activeUser.accountName\n          }\n        }],\n      }\n      console.log(transaction)\n      const response = await activeUser.signTransaction(transaction, {\n        // Optional: Whether anchor-link should broadcast this transaction\n        //    For this demo, anchor-link will not broadcast the transaction after receiving it\n        broadcast: false,\n        sign: true,\n        // Optional: TAPOS values\n        // blocksBehind: 3,\n        // expireSeconds: 120,\n      })\n      console.log(response)\n      // Update application state with the results of the transaction\n      this.setState({\n        response,\n        transacting: false,\n      })\n    } catch(e) {\n      console.log(e)\n      this.setState({\n        // Set loading flag\n        transacting: false,\n      })\n    }\n  }\n  // React State Helper to update sessions while switching accounts\n  setSession = async (auth) => {\n    // Restore a specific session based on appName and auth\n    const session = await this.link.restoreSession(this.props.appName, auth)\n    // Update application state with new session and reset response data\n    this.setState({\n      response: undefined,\n      session,\n    })\n  }\n  // React State Helper to remove/delete a session\n  removeSession = async (auth) => {\n    const { ual: { logout } } = this.props\n    logout();\n  }\n  render() {\n    // Load state for rendering\n    const {\n      response,\n      transacting,\n    } = this.state\n    const {\n      chain,\n    } = this.props\n    const { ual: { activeUser } } = this.props\n    const { ual: { users } } = this.props\n    // Return the UI\n    return (\n      <Container\n        style={{ paddingTop: '2em' }}\n      >\n        <Header attached=\"top\" block size=\"huge\">\n          ual-reactjs-renderer-demo-multipass\n          <Header.Subheader>\n            <p>An UAL demo using the ual-reactjs-renderer that allows multiple persistent logins from different wallets, blockchains, and accounts.</p>\n            <p>Source code: <a href=\"https://github.com/greymass/ual-reactjs-renderer-demo-multipass\">https://github.com/greymass/ual-reactjs-renderer-demo-multipass</a></p>\n          </Header.Subheader>\n        </Header>\n        <Segment attached padded>\n          <p>Switch to a specific blockchain.</p>\n          <Blockchains\n            chain={chain}\n            onChange={this.props.setChainId}\n          />\n        </Segment>\n        <Segment attached padded>\n          <Header>Available Accounts</Header>\n          <Accounts\n            activeUser={activeUser}\n            addAccount={this.addAccount}\n            chain={chain}\n            setSession={this.setSession}\n            removeSession={this.removeSession}\n            users={users}\n          />\n        </Segment>\n        <Segment attached={response ? true : 'bottom'} padded>\n          <Header>Transact with UAL</Header>\n          <Button\n            content=\"Sign Test Transaction\"\n            disabled={!activeUser || transacting}\n            loading={transacting}\n            icon=\"external\"\n            onClick={this.signTransaction}\n            primary\n            size=\"huge\"\n          />\n          {(!activeUser)\n            ? <p style={{ marginTop: '0.5em'}}>Login using UAL to sign a test transaction.</p>\n            : false\n          }\n        </Segment>\n        {(response)\n          ? (\n            <Segment attached=\"bottom\" padded>\n              <Header>Transaction Response</Header>\n              <Response\n                response={response}\n              />\n            </Segment>\n          )\n          : false\n        }\n      </Container>\n    )\n  }\n}\n\n// ensure this component is exported withUAL\nexport default withUAL(App)\n","// React and UI components for demo\nimport React, { Component } from 'react'\n\n// The required ual-reactjs-renderer with ual-anchor, ual-scatter, and ual-ledger\nimport { Anchor } from 'ual-anchor'\nimport { Ledger } from 'ual-ledger'\nimport { Scatter } from 'ual-scatter'\nimport { UALProvider } from 'ual-reactjs-renderer'\n\n// React components for this demo, not required\nimport { find } from 'lodash'\nimport blockchains from './assets/blockchains.json'\nimport Main from './Main'\n\n// Define the app name for UAL\nconst appName = 'ual-reactjs-renderer-demo-multipass'\n\nclass App extends Component {\n  // Demo initialization code\n  constructor(props) {\n    super(props)\n    // Add the ability to retrieve the chainId from the URL\n    const search = window.location.search\n    const params = new URLSearchParams(search)\n    const chainId = params.get('chainId') || '0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72'\n    // Set initial application state with the default chainId\n    this.state = {\n      chainId,\n    }\n  }\n  getAuthenticators = (chainId) => {\n    const [ chain ] = blockchains.filter((c) => c.chainId === chainId)\n    const anchor = new Anchor([chain], {\n      // Required: The name of the app requesting a session\n      //            This can be any string, preferably short, for wallets to display session information about.\n      appName,\n      // Optional: Fuel by default is used to sign transactions for users with low resources.\n      //            This can be disabled by setting disableGreymassFuel to true.\n      // disableGreymassFuel: true,\n      // Optional: Enable the browser transport success/failure messages instead of handling yourself\n      // requestStatus: true\n    })\n    const ledger = new Ledger([chain])\n    const scatter = new Scatter([chain], {\n      appName\n    })\n    return [anchor, ledger, scatter]\n  }\n  // React State Helper to update chainId while switching blockchains\n  setChainId = (e, { value }) => this.setState({\n    chainId: value\n  }, () => {\n    const searchParams = new URLSearchParams(window.location.search)\n    searchParams.set('chainId', value)\n    window.history.pushState(null, null, `?${searchParams.toString()}`)\n  })\n  render() {\n    const {\n      chainId,\n    } = this.state\n    // Find the blockchain information (rpc, name, etc) for UI purposes\n    const chain = find(blockchains, { chainId })\n    // Retrieve the authenticators for this chain for UAL\n    const authenticators = this.getAuthenticators(chainId)\n    // Return the UI\n    return (\n      <UALProvider\n        appName={appName}\n        authenticators={authenticators}\n        chains={blockchains}\n        key={chain.chainId}\n      >\n        <Main\n          appName={appName}\n          chain={chain}\n          setChainId={this.setChainId}\n          key={chain.chainId}\n        />\n      </UALProvider>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const supportedChains = {\n    'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906': 'https://eos.greymass.com',\n    '2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840': 'https://jungle3.greymass.com',\n    '4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11': 'https://telos.greymass.com',\n};\nasync function apiCall(url, body) {\n    return (await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: body ? JSON.stringify(body) : undefined,\n    })).json();\n}\nexport async function fuel(request, session, updatePrepareStatus) {\n    updatePrepareStatus('Detecting if Fuel is required.');\n    const cloned = request.clone();\n    const chainId = cloned.getChainId().toLowerCase();\n    const nodeUrl = supportedChains[chainId];\n    if (!nodeUrl) {\n        throw new Error('Chain does not support Fuel.');\n    }\n    const result = await apiCall(nodeUrl + '/v1/cosigner/sign', {\n        request: cloned,\n        signer: session.auth,\n    });\n    if (result.data.signatures[0]) {\n        cloned.setInfoKey('fuel_sig', result.data.signatures[0]);\n    }\n    else {\n        throw new Error('No signature returned from Fuel');\n    }\n    cloned.data.req = result.data.request;\n    return cloned;\n}\n//# sourceMappingURL=fuel.js.map","export default `\n/* Anchor Link */\n\n.%prefix% * {\n    box-sizing: border-box;\n    line-height: 1;\n}\n\n.%prefix% {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n        Arial, sans-serif;\n    font-size: 13px;\n    background: rgba(0, 0, 0, 0.65);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 2147483647;\n    display: none;\n    align-items: center;\n    justify-content: center;\n}\n\n.%prefix%-active {\n    display: flex;\n}\n\n.%prefix%-inner {\n    background: #EFF1F7;\n    margin: 20px;\n    padding-top: 50px;\n    border-radius: 20px;\n    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);\n    width: 340px;\n    transition-property: all;\n    transition-duration: .5s;\n    transition-timing-function: ease-in-out;\n    position: relative;\n}\n\n.%prefix%-close {\n    display: block;\n    position: absolute;\n    top: 11px;\n    right: 16px;\n    width: 28px;\n    height: 28px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23007AFF'/%3E%3C/svg%3E\");\n    background-size: 14px;\n    background-repeat: no-repeat;\n    background-position: 50%;\n    border-radius: 100%;\n    cursor: pointer;\n}\n\n.%prefix%-close:hover {\n    background-color: white;\n}\n\n.%prefix%-logo {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18.81 9.19h33.25V59.5H18.81z'/%3E%3Cpath d='M38.45 28.88h-6.9L35 21.77l3.45 7.1z' fill='%233650A2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M35 70a35 35 0 100-70 35 35 0 000 70zm2.36-55.4a2.62 2.62 0 00-4.72 0L21.9 36.75h5.84l1.7-3.5h11.13l1.7 3.5h5.83L37.36 14.6zM48.13 44.2h-5.26a7.76 7.76 0 01-5.24 7v-10.5a2.62 2.62 0 10-5.25 0v10.5a7.76 7.76 0 01-5.25-7h-5.25c.16 7.06 6 12.69 13.12 12.69 7.12 0 12.97-5.63 13.13-12.7z' fill='%233650A2'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.loading {\n    border-radius: 100%;\n    background-color: #3650A2;\n    background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.error {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%23FC3D39'/%3E%3Cpath fill='%23fff' d='M22.3 48h25.4c2.5 0 4-1.7 4-4a4 4 0 00-.5-2L38.5 19.3a4 4 0 00-3.5-2 4 4 0 00-3.5 2L18.8 42.1c-.3.6-.5 1.3-.5 2 0 2.2 1.6 4 4 4zM35 37c-.9 0-1.4-.6-1.4-1.5l-.2-7.7c0-.9.6-1.6 1.6-1.6s1.7.7 1.7 1.6l-.3 7.7c0 1-.5 1.5-1.4 1.5zm0 6c-1 0-1.9-.8-1.9-1.8s.9-1.8 2-1.8c1 0 1.8.7 1.8 1.8 0 1-.9 1.8-1.9 1.8z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.success {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-request {\n    padding: 20px;\n    border-radius: 20px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    background: white;\n}\n\n.%prefix%-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-title {\n    color: #000000;\n    font-size: 25px;\n    margin-top: 14px;\n    font-weight: bold;\n    line-height: 30px;\n}\n\n.%prefix%-subtitle {\n    margin: 14px 0;\n    color: #5C5C5C;\n    text-align: center;\n    line-height: 1.3;\n}\n\n.%prefix%-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-uri {\n    width: 100%;\n}\n\n.%prefix%-uri a {\n    color: #007AFF;\n    background: #EFF1F7;\n    text-decoration: none;\n    font-size: 17px;\n    flex-grow: 1;\n    flex: 1;\n    width: 100%;\n    line-height: 1;\n    padding: 20px 18px;\n    border-radius: 12px;\n    font-weight: 400;\n    text-align: center;\n    display: block;\n    margin-top: 1em;\n}\n\n.%prefix%-qr {\n    margin-top: 1em;\n}\n\n.%prefix%-qr svg {\n    width: 100%;\n}\n\n.%prefix%-footnote {\n    text-align: center;\n\n    width: 100%;\n    position: absolute;\n    bottom: -26px;\n    left: 0;\n    color: white;\n}\n\n.%prefix%-footnote a {\n    color: white;\n}\n\n\n\n@media (prefers-color-scheme: dark) {\n    .%prefix%-inner {\n        background: #262D43;\n        color: white;\n    }\n    .%prefix%-request {\n        background: #131B33;\n    }\n    .%prefix%-title {\n        color: #FCFCFC;\n    }\n    .%prefix%-subtitle {\n        color: #B8C0DA;\n    }\n    .%prefix%-qr svg path {\n        fill: #131B33;\n    }\n    .%prefix%-qr svg path:last-child {\n        stroke: white;\n    }\n    .%prefix%-uri a {\n        color: #FCFCFC;\n        background: #262D43;\n    }\n    .%prefix%-close {\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23FCFCFC'/%3E%3C/svg%3E\");\n    }\n    .%prefix%-close:hover {\n        background-color: black;\n    }\n}\n`;\n//# sourceMappingURL=styles.js.map"],"sourceRoot":""}